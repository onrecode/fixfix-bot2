# FixFix Bot - Telegram ะฑะพั ะดะปั ัะตัะฒะธัะฐ ะฟะพ ัะตะผะพะฝัั ะะ

ะกะพะฒัะตะผะตะฝะฝัะน Telegram ะฑะพั ั ะฟะพะปะฝะพะน ะธะฝัะตะณัะฐัะธะตะน ะฑะฐะทั ะดะฐะฝะฝัั, API ะธ ะผะพะฝะธัะพัะธะฝะณะพะผ ะดะปั ัะตัะฒะธัะฐ ะฟะพ ัะตะผะพะฝัั ะะ.

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
- **Python 3.11** - ะพัะฝะพะฒะฝะพะน ัะทัะบ ัะฐะทัะฐะฑะพัะบะธ
- **FastAPI** - ัะพะฒัะตะผะตะฝะฝัะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ ะดะปั ัะพะทะดะฐะฝะธั API
- **SQLAlchemy 2.0** - ORM ะดะปั ัะฐะฑะพัั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
- **Pydantic** - ะฒะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั ะธ ัะตัะธะฐะปะธะทะฐัะธั
- **Uvicorn** - ASGI ัะตัะฒะตั ะดะปั ะทะฐะฟััะบะฐ FastAPI ะฟัะธะปะพะถะตะฝะธั

### Telegram Bot
- **python-telegram-bot** - ะพัะธัะธะฐะปัะฝะฐั ะฑะธะฑะปะธะพัะตะบะฐ ะดะปั Telegram Bot API
- **ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ** - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต async/await ะดะปั ัััะตะบัะธะฒะฝะพะน ัะฐะฑะพัั
- **ะกะพััะพัะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน** - ัะฟัะฐะฒะปะตะฝะธะต ะฟัะพัะตััะพะผ ัะพะทะดะฐะฝะธั ะทะฐัะฒะพะบ
- **ะะฝัะตัะฐะบัะธะฒะฝัะต ะบะปะฐะฒะธะฐัััั** - ัะดะพะฑะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะธะฝัะตััะตะนั

### ะะฐะทะฐ ะดะฐะฝะฝัั
- **PostgreSQL 15** - ะฝะฐะดะตะถะฝะฐั ัะตะปััะธะพะฝะฝะฐั ะกะฃะะ
- **Alembic** - ะผะธะณัะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั
- **ะัะธะฝััะพะฝะฝัะต ะฟะพะดะบะปััะตะฝะธั** - ะธัะฟะพะปัะทะพะฒะฐะฝะธะต asyncpg ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### ะะพะฝัะตะนะฝะตัะธะทะฐัะธั ะธ ัะฐะทะฒะตัััะฒะฐะฝะธะต
- **Docker** - ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
- **Docker Compose** - ะพัะบะตัััะฐัะธั ัะตัะฒะธัะพะฒ
- **Nginx** - ะพะฑัะฐัะฝัะน ะฟัะพะบัะธ ะธ SSL ัะตัะผะธะฝะฐัะธั
- **Multi-stage builds** - ะพะฟัะธะผะธะทะฐัะธั ัะฐะทะผะตัะฐ ะพะฑัะฐะทะพะฒ

### CI/CD ะธ ะผะพะฝะธัะพัะธะฝะณ
- **GitHub Actions** - ะฐะฒัะพะผะฐัะธะทะฐัะธั ัะฑะพัะบะธ ะธ ัะฐะทะฒะตัััะฒะฐะฝะธั
- **ะะฒัะพะผะฐัะธัะตัะบะธะต runner'ั** - GitHub ะฟัะตะดะพััะฐะฒะปัะตั runner'ั ะดะปั ะฒัะฟะพะปะฝะตะฝะธั workflow'ะพะฒ
- **Prometheus** - ัะฑะพั ะผะตััะธะบ (ะพะฟัะธะพะฝะฐะปัะฝะพ ะดะปั ะผะธะฝะธะผะฐะปัะฝะพะน ะบะพะฝัะธะณััะฐัะธะธ)
- **Grafana** - ะฒะธะทัะฐะปะธะทะฐัะธั ะผะตััะธะบ (ะพะฟัะธะพะฝะฐะปัะฝะพ ะดะปั ะผะธะฝะธะผะฐะปัะฝะพะน ะบะพะฝัะธะณััะฐัะธะธ)

### ะะตะทะพะฟะฐัะฝะพััั ะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- **ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั** - ะฑะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะธ
- **ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั** - ะทะฐัะธัะฐ ะพั ะฝะตะบะพััะตะบัะฝัั ะดะฐะฝะฝัั
- **ะะพะณะธัะพะฒะฐะฝะธะต** - ััััะบัััะธัะพะฒะฐะฝะฝัะต ะปะพะณะธ ะดะปั ะพัะปะฐะดะบะธ
- **SSL/TLS** - ัะธััะพะฒะฐะฝะธะต ััะฐัะธะบะฐ
- **ะะณัะฐะฝะธัะตะฝะธั ะทะฐะฟัะพัะพะฒ** - ะทะฐัะธัะฐ ะพั ะทะปะพัะฟะพััะตะฑะปะตะฝะธะน

### ะััะธัะตะบัััะฝัะต ะฟะฐััะตัะฝั
- **ะกะตัะฒะธั-ะพัะธะตะฝัะธัะพะฒะฐะฝะฝะฐั ะฐััะธัะตะบัััะฐ** - ัะฐะทะดะตะปะตะฝะธะต ะฝะฐ ะปะพะณะธัะตัะบะธะต ะบะพะผะฟะพะฝะตะฝัั
- **Repository pattern** - ะฐะฑัััะฐะบัะธั ะดะพัััะฟะฐ ะบ ะดะฐะฝะฝัะผ
- **Dependency injection** - ะฒะฝะตะดัะตะฝะธะต ะทะฐะฒะธัะธะผะพััะตะน
- **Middleware** - ะฟัะพะผะตะถััะพัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะทะฐะฟัะพัะพะฒ

## ๐ ะะพะทะผะพะถะฝะพััะธ

- **ะกะพะทะดะฐะฝะธะต ะทะฐัะฒะพะบ** - ะฟะพะปะฝัะน ัะธะบะป ะพั ะฒัะฑะพัะฐ ััะปัะณะธ ะดะพ ะฟะพะดัะฒะตัะถะดะตะฝะธั
- **ะะฐะทะฐ ะดะฐะฝะฝัั PostgreSQL** - ะฝะฐะดะตะถะฝะพะต ััะฐะฝะตะฝะธะต ะฒัะตั ะดะฐะฝะฝัั
- **REST API** - ัะฟัะฐะฒะปะตะฝะธะต ะทะฐัะฒะบะฐะผะธ ัะตัะตะท HTTP endpoints
- **ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั** - ะฟัะพะฒะตัะบะฐ ะบะพััะตะบัะฝะพััะธ ะทะฐะฟะพะปะฝะตะฝะธั ะทะฐัะฒะพะบ
- **ะะณัะฐะฝะธัะตะฝะธั** - ะปะธะผะธั ะฝะฐ ะบะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะทะฐัะฒะพะบ
- **ะะพะฝะธัะพัะธะฝะณ** - Prometheus + Grafana ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ัะพััะพัะฝะธั
- **Docker** - ะฟะพะปะฝะฐั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะฟัะธะปะพะถะตะฝะธั
- **ะะพะณะธัะพะฒะฐะฝะธะต** - ััััะบัััะธัะพะฒะฐะฝะฝัะต ะปะพะณะธ ะฒ JSON ัะพัะผะฐัะต

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โ    โ   FastAPI App   โ    โ   PostgreSQL    โ
โ                 โ    โ                 โ    โ                 โ
โ โข ะะฑัะฐะฑะพัะบะฐ     โ    โ โข REST API      โ    โ โข ะะฐัะฒะบะธ        โ
โ   ัะพะพะฑัะตะฝะธะน     โโโโโบโ โข ะะฐะปะธะดะฐัะธั     โโโโโบโ โข ะะพะปัะทะพะฒะฐัะตะปะธ  โ
โ โข ะะปะฐะฒะธะฐัััั    โ    โ โข ะะธะทะฝะตั-ะปะพะณะธะบะฐ โ    โ โข ะกัะฐัััั       โ
โ โข ะกะพััะพัะฝะธั     โ    โ โข Middleware    โ    โ โข ะััะพัะธั       โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โ                       โ                       โ
         โผ                       โผ                       โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ     Nginx       โ    โ   Prometheus    โ    โ     Redis       โ
โ                 โ    โ                 โ    โ                 โ
โ โข ะัะพะบัะธัะพะฒะฐะฝะธะตโ    โ โข ะะตััะธะบะธ       โ    โ โข ะััะธัะพะฒะฐะฝะธะต   โ
โ โข SSL/TLS       โ    โ โข ะะพะฝะธัะพัะธะฝะณ    โ    โ โข ะกะตััะธะธ        โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ
         โผ                       โผ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ     Grafana     โ    โ   Docker Composeโ
โ                 โ    โ                 โ
โ โข ะะฐัะฑะพัะดั      โ    โ โข ะฃะฟัะฐะฒะปะตะฝะธะต    โ
โ โข ะะธะทัะฐะปะธะทะฐัะธั  โ    โ   ะบะพะฝัะตะนะฝะตัะฐะผะธ  โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

- Docker 20.10+
- Docker Compose 2.0+
- 4GB RAM
- 20GB ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ
- Linux/Windows/macOS

## ๐๏ธ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone <repository-url>
cd fixfix-bot
```

### 2. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
cp env.example .env
```

ะััะตะดะฐะบัะธััะนัะต `.env` ัะฐะนะป:

```env
# Telegram Bot
TELEGRAM_TOKEN=your_bot_token_here
REQUESTS_GROUP_ID=1004796553922
ADMIN_IDS=123456789,987654321

# Database
DB_HOST=postgres
DB_PORT=5432
DB_NAME=fixfix_bot
DB_USER=postgres
DB_PASSWORD=your_secure_password

# API
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=false

# Monitoring
GRAFANA_PASSWORD=admin

# Limits
MAX_REQUESTS_PER_USER=5
```

### 3. ะะฐะฟััะบ ะฟัะธะปะพะถะตะฝะธั

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose up -d

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose logs -f

# ะััะฐะฝะพะฒะบะฐ
docker-compose down
```

### 4. ะะฝะธัะธะฐะปะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะกะพะทะดะฐะฝะธะต ัะฐะฑะปะธั (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต)
docker-compose exec app python -c "
from app.database.connection import init_db
import asyncio
asyncio.run(init_db())
"
```

## ๐ง ะะพะฝัะธะณััะฐัะธั

### Telegram Bot

1. ะกะพะทะดะฐะนัะต ะฑะพัะฐ ัะตัะตะท [@BotFather](https://t.me/botfather)
2. ะะพะปััะธัะต ัะพะบะตะฝ ะธ ะดะพะฑะฐะฒััะต ะฒ `.env`
3. ะะพะฑะฐะฒััะต ะฑะพัะฐ ะฒ ะณััะฟะฟั ะดะปั ะทะฐัะฒะพะบ
4. ะฃะบะฐะถะธัะต ID ะณััะฟะฟั ะฒ `REQUESTS_GROUP_ID`

### ะะฐะทะฐ ะดะฐะฝะฝัั

- **PostgreSQL 15** - ะพัะฝะพะฒะฝะฐั ะะ
- **ะะฒัะพะผะฐัะธัะตัะบะธะต ะผะธะณัะฐัะธะธ** ะฟัะธ ะทะฐะฟััะบะต
- **Connection pooling** ะดะปั ะพะฟัะธะผะธะทะฐัะธะธ
- **Backup ะดะธัะตะบัะพัะธั** ะดะปั ัะตะทะตัะฒะฝัั ะบะพะฟะธะน

### API

- **FastAPI** - ัะพะฒัะตะผะตะฝะฝัะน ะฒะตะฑ-ััะตะนะผะฒะพัะบ
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั** ะฝะฐ `/docs`
- **ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั** ัะตัะตะท Pydantic
- **CORS** ะฝะฐัััะพะตะฝ ะดะปั ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ

### ะะพะฝะธัะพัะธะฝะณ

- **Prometheus** - ัะฑะพั ะผะตััะธะบ
- **Grafana** - ะฒะธะทัะฐะปะธะทะฐัะธั (ะฟะพัั 3000)
- **ะะตััะธะบะธ ะฟัะธะปะพะถะตะฝะธั** ะฝะฐ `/metrics`
- **Health check** ะฝะฐ `/health`

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฑะพัะฐ

### ะะพะผะฐะฝะดั

- `/start` - ะฝะฐัะฐะปะพ ัะฐะฑะพัั ั ะฑะพัะพะผ
- `/myrequests` - ะฟัะพัะผะพัั ัะฒะพะธั ะทะฐัะฒะพะบ

### ะกะพะทะดะฐะฝะธะต ะทะฐัะฒะบะธ

1. ะัะฑะตัะธัะต ะบะฐัะตะณะพัะธั ััะปัะณะธ
2. ะฃะบะฐะถะธัะต ะบะพะฝะบัะตัะฝัั ะฟัะพะฑะปะตะผั
3. ะะฟะธัะธัะต ะดะตัะฐะปะธ (ะผะธะฝะธะผัะผ 10 ัะธะผะฒะพะปะพะฒ)
4. ะัะฑะตัะธัะต ัะพัะผะฐั ัะฐะฑะพัั
5. ะฃะบะฐะถะธัะต ัะดะพะฑะฝะพะต ะฒัะตะผั
6. ะัะตะดะพััะฐะฒััะต ะบะพะฝัะฐะบัะฝัะต ะดะฐะฝะฝัะต
7. ะะพะดัะฒะตัะดะธัะต ะทะฐัะฒะบั

### ะะณัะฐะฝะธัะตะฝะธั

- ะะฐะบัะธะผัะผ 5 ะฐะบัะธะฒะฝัั ะทะฐัะฒะพะบ ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั
- ะะฐะปะธะดะฐัะธั ะฒัะตั ะฟะพะปะตะน
- ะัะพะฒะตัะบะฐ ะบะพััะตะบัะฝะพััะธ ะดะฐะฝะฝัั

## ๐ API Endpoints

### ะะฐัะฒะบะธ

- `POST /api/v1/requests/` - ัะพะทะดะฐะฝะธะต ะทะฐัะฒะบะธ
- `GET /api/v1/requests/{request_id}` - ะฟะพะปััะตะฝะธะต ะทะฐัะฒะบะธ
- `GET /api/v1/requests/user/{user_id}` - ะทะฐัะฒะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั
- `PUT /api/v1/requests/{request_id}/status` - ะพะฑะฝะพะฒะปะตะฝะธะต ััะฐัััะฐ
- `POST /api/v1/requests/{request_id}/comments` - ะดะพะฑะฐะฒะปะตะฝะธะต ะบะพะผะผะตะฝัะฐัะธั

### ะกะธััะตะผะฐ

- `GET /health` - ะฟัะพะฒะตัะบะฐ ัะพััะพัะฝะธั
- `GET /metrics` - ะผะตััะธะบะธ Prometheus
- `GET /docs` - ะดะพะบัะผะตะฝัะฐัะธั API

## ๐ ะะพะฝะธัะพัะธะฝะณ

### Prometheus ะผะตััะธะบะธ

- HTTP ะทะฐะฟัะพัั ะธ ะพัะฒะตัั
- ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะฟัะพัะพะฒ
- ะะพะปะธัะตััะฒะพ ะทะฐัะฒะพะบ
- ะกะพััะพัะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั

### Grafana ะดะฐัะฑะพัะดั

- ะะฑะทะพั ัะธััะตะผั
- ะะตััะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
- ะกัะฐัะธััะธะบะฐ ะทะฐัะฒะพะบ
- ะะพะฝะธัะพัะธะฝะณ ะะ

## ๐ณ Docker

### ะกะตัะฒะธัั

- **app** - ะพัะฝะพะฒะฝะพะต FastAPI ะฟัะธะปะพะถะตะฝะธะต
- **bot** - Telegram ะฑะพั
- **postgres** - ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **redis** - ะบััะธัะพะฒะฐะฝะธะต
- **nginx** - ะฒะตะฑ-ัะตัะฒะตั
- **prometheus** - ะผะพะฝะธัะพัะธะฝะณ
- **grafana** - ะฒะธะทัะฐะปะธะทะฐัะธั

### ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั

```bash
# ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะฐ
docker-compose build --no-cache

# ะัะพัะผะพัั ะปะพะณะพะฒ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs -f app

# ะัะฟะพะปะฝะตะฝะธะต ะบะพะผะฐะฝะด ะฒ ะบะพะฝัะตะนะฝะตัะต
docker-compose exec app python -c "print('Hello')"

# ะัะธััะบะฐ ะฝะตะธัะฟะพะปัะทัะตะผัั ัะตััััะพะฒ
docker system prune -a
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- **ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั** ะดะปั ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝัั ะดะฐะฝะฝัั
- **ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั** ัะตัะตะท Pydantic
- **SQL injection protection** ัะตัะตะท SQLAlchemy
- **CORS ะฝะฐัััะพะนะบะธ** ะดะปั ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ
- **ะะพะณะธัะพะฒะฐะฝะธะต** ะฒัะตั ะดะตะนััะฒะธะน

## ๐ ะะพะณะธัะพะฒะฐะฝะธะต

- **ะกัััะบัััะธัะพะฒะฐะฝะฝัะต ะปะพะณะธ** ะฒ JSON ัะพัะผะฐัะต
- **ะฃัะพะฒะฝะธ ะปะพะณะธัะพะฒะฐะฝะธั** (DEBUG, INFO, WARNING, ERROR)
- **ะะฒัะพะผะฐัะธัะตัะบะฐั ัะพัะฐัะธั** ะปะพะณะพะฒ
- **ะะพะฝะธัะพัะธะฝะณ ะพัะธะฑะพะบ** ัะตัะตะท Prometheus

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฒ ะฟัะพะดะฐะบัะตะฝะต

### 1. ะะฐัััะพะนะบะฐ ัะตัะฒะตัะฐ

```bash
# ะะฑะฝะพะฒะปะตะฝะธะต ัะธััะตะผั
sudo apt update && sudo apt upgrade -y

# ะฃััะฐะฝะพะฒะบะฐ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# ะฃััะฐะฝะพะฒะบะฐ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

### 2. ะะฐัััะพะนะบะฐ SSL

```bash
# ะะพะปััะตะฝะธะต SSL ัะตััะธัะธะบะฐัะฐ
sudo apt install certbot
sudo certbot certonly --standalone -d yourdomain.com

# ะะพะฟะธัะพะฒะฐะฝะธะต ัะตััะธัะธะบะฐัะพะฒ
sudo cp /etc/letsencrypt/live/yourdomain.com/fullchain.pem ./nginx/ssl/
sudo cp /etc/letsencrypt/live/yourdomain.com/privkey.pem ./nginx/ssl/
```

### 3. ะะฐัััะพะนะบะฐ firewall

```bash
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable
```

### 4. ะะฒัะพะทะฐะฟััะบ

```bash
# ะกะพะทะดะฐะฝะธะต systemd ัะตัะฒะธัะฐ
sudo nano /etc/systemd/system/fixfix-bot.service

[Unit]
Description=FixFix Bot
Requires=docker.service
After=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/path/to/fixfix-bot
ExecStart=/usr/local/bin/docker-compose up -d
ExecStop=/usr/local/bin/docker-compose down
TimeoutStartSec=0

[Install]
WantedBy=multi-user.target

# ะะบะปััะตะฝะธะต ะฐะฒัะพะทะฐะฟััะบะฐ
sudo systemctl enable fixfix-bot.service
sudo systemctl start fixfix-bot.service
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะะฐะฟััะบ ัะตััะพะฒ

```bash
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน ะดะปั ัะตััะธัะพะฒะฐะฝะธั
pip install -r requirements.txt

# ะะฐะฟััะบ ัะตััะพะฒ
pytest

# ะะฐะฟััะบ ั ะฟะพะบัััะธะตะผ
pytest --cov=app
```

### ะขะตััะพะฒัะต ะดะฐะฝะฝัะต

```bash
# ะกะพะทะดะฐะฝะธะต ัะตััะพะฒะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
docker-compose exec postgres psql -U postgres -d fixfix_bot -c "
INSERT INTO users (telegram_id, username, first_name, is_admin) 
VALUES (123456789, 'test_user', 'Test User', true);
"
```

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฒ ะฟัะพะดะฐะบัะฝ

### GitHub Actions

ะะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะฑะพัะบะธ ะธ ัะฐะทะฒะตัััะฒะฐะฝะธั ะผั ะธัะฟะพะปัะทัะตะผ GitHub Actions - ัะพะฒัะตะผะตะฝะฝัั ะธ ะฟัะพัััั ะฒ ะฝะฐัััะพะนะบะต ัะธััะตะผั CI/CD.

#### ะัะตะธะผััะตััะฒะฐ:
- **ะัะพััะพัะฐ**: ะะต ััะตะฑัะตั ะฝะฐัััะพะนะบะธ ัะพะฑััะฒะตะฝะฝัั runner'ะพะฒ
- **ะะฐะดะตะถะฝะพััั**: GitHub ะฟัะตะดะพััะฐะฒะปัะตั ััะฐะฑะธะปัะฝัะต runner'ั
- **ะะธะฑะบะพััั**: ะะพัะพะฒัะต action'ั ะดะปั ะฒัะตั ะทะฐะดะฐั
- **ะะตะทะพะฟะฐัะฝะพััั**: ะกะตะบัะตัั ััะฐะฝัััั ะฒ GitHub

#### ะะฐัััะพะนะบะฐ:

1. **ะกะพะทะดะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั ะฝะฐ GitHub**:
   - ะกะพะทะดะฐะนัะต ัะตะฟะพะทะธัะพัะธะน ะฝะฐ github.com
   - ะกะบะพะฟะธััะนัะต ะบะพะด ะธะท GitLab

2. **ะะฐัััะพะนะบะฐ ัะตะบัะตัะพะฒ**:
   - ะ Settings > Secrets and variables > Actions ะดะพะฑะฐะฒััะต:
     - `PROD_HOST` - IP ะฒะฐัะตะณะพ ัะตัะฒะตัะฐ
     - `PROD_USERNAME` - ะธะผั ะฟะพะปัะทะพะฒะฐัะตะปั ะดะปั SSH
     - `PROD_SSH_KEY` - ะฟัะธะฒะฐัะฝัะน SSH ะบะปัั

3. **Workflow'ั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟััะบะฐัััั**:
   - ะัะธ push ะฒ main ะฒะตัะบั
   - ะัะธ ัะพะทะดะฐะฝะธะธ Pull Request

ะะพะดัะพะฑะฝัะต ะธะฝััััะบัะธะธ ัะผ. ะฒ [GITHUB_ACTIONS_SETUP.md](GITHUB_ACTIONS_SETUP.md)

### ะะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต

ะะพัะปะต ะฝะฐัััะพะนะบะธ GitHub Actions workflow ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ะขะตััะธััะตั ะบะพะด
- ะกะพะฑะธัะฐะตั Docker ะพะฑัะฐะท
- ะะฐะทะฒะพัะฐัะธะฒะฐะตั ะฝะฐ ัะตัะฒะตัะต
- ะัะพะฒะตััะตั ััะฐััั ัะตัะฒะธัะพะฒ

## ๐ ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

### ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

```yaml
# docker-compose.override.yml
services:
  app:
    deploy:
      replicas: 3
    environment:
      - DB_POOL_SIZE=20
      - DB_MAX_OVERFLOW=40
```

### Load Balancer

```yaml
# nginx/nginx.conf
upstream app_servers {
    server app1:8000;
    server app2:8000;
    server app3:8000;
}
```

## ๐ง ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะงะฐัััะต ะฟัะพะฑะปะตะผั

1. **ะะพั ะฝะต ะพัะฒะตัะฐะตั**
   - ะัะพะฒะตัััะต ัะพะบะตะฝ ะฒ `.env`
   - ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะทะฐะฟััะตะฝ

2. **ะัะธะฑะบะธ ะฑะฐะทั ะดะฐะฝะฝัั**
   - ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต ะบ PostgreSQL
   - ะฃะฑะตะดะธัะตัั, ััะพ ะะ ะทะฐะฟััะตะฝะฐ

3. **ะัะพะฑะปะตะผั ั Docker**
   - ะะตัะตะทะฐะฟัััะธัะต ะบะพะฝัะตะนะฝะตัั: `docker-compose restart`
   - ะัะพะฒะตัััะต ะปะพะณะธ: `docker-compose logs`

### ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั

```bash
# ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ัะตัะฒะธัะพะฒ
docker-compose ps

# ะัะพัะผะพัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะตััััะพะฒ
docker stats

# ะัะธััะบะฐ ะปะพะณะพะฒ
docker-compose logs --tail=100

# ะัะพะฒะตัะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ะะ
docker-compose exec postgres pg_isready -U postgres
```

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะะพะฑะฐะฒััะต ัะตััั
5. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป LICENSE ะดะปั ะดะตัะฐะปะตะน.

## ๐ ะะพะดะดะตัะถะบะฐ

- **Issues** - ะดะปั ะฑะฐะณะพะฒ ะธ ะฟัะตะดะปะพะถะตะฝะธะน
- **Discussions** - ะดะปั ะฒะพะฟัะพัะพะฒ ะธ ะพะฑััะถะดะตะฝะธะน
- **Wiki** - ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ

---

**FixFix Bot** - ัะพะฒัะตะผะตะฝะฝะพะต ัะตัะตะฝะธะต ะดะปั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะตัะฒะธัะฐ ะฟะพ ัะตะผะพะฝัั ะะ! ๐
